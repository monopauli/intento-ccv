(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{581:function(e,t,s){"use strict";s.r(t);var o=s(0),a=Object(o.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"run-trustless-hub-in-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#run-trustless-hub-in-docker"}},[e._v("#")]),e._v(" Run Trustless Hub in Docker")]),e._v(" "),s("p",[e._v("You can run Trustless Hub CLI inside a Docker container without installing the Trustless Hub binary directly on your machine.")]),e._v(" "),s("p",[e._v("Running Trustless Hub in Docker can be useful for various reasons; isolating your test environment, running Trustless Hub on an unsupported operating system, or experimenting with a different version of Trustless Hub CLI without installing it.")]),e._v(" "),s("p",[e._v("Docker containers are like virtual machines because they provide an isolated environment to programs that runs inside them. In this case, you can run Trustless Hub in an isolated environment.")]),e._v(" "),s("p",[e._v("Experimentation and file system impact is limited to the Docker instance. The host machine is not impacted by changes to the container.")]),e._v(" "),s("h2",{attrs:{id:"prerequisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),s("p",[e._v("Docker must be installed. See "),s("a",{attrs:{href:"https://www.docker.com/get-started",target:"_blank",rel:"noopener noreferrer"}},[e._v("Get Started with Docker"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("h2",{attrs:{id:"trustless-hub-commands-in-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#trustless-hub-commands-in-docker"}},[e._v("#")]),e._v(" Trustless Hub Commands in Docker")]),e._v(" "),s("p",[e._v("After you scaffold and start a chain in your Docker container, all Trustless Hub commands are available. Just type the commands after "),s("code",[e._v("docker run -ti Trustless Hub/cli")]),e._v(". For example:")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZG9ja2VyIHJ1biAtdGkgVHJ1c3RsZXNzIEh1Yi9jbGkgLWgKZG9ja2VyIHJ1biAtdGkgVHJ1c3RsZXNzIEh1Yi9jbGkgc2NhZmZvbGQgY2hhaW4gZ2l0aHViLmNvbS90ZXN0L3BsYW5ldApkb2NrZXIgcnVuIC10aSBUcnVzdGxlc3MgSHViL2NsaSBjaGFpbiBzZXJ2ZQo="}}),e._v(" "),s("h2",{attrs:{id:"scaffolding-a-chain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scaffolding-a-chain"}},[e._v("#")]),e._v(" Scaffolding a Chain")]),e._v(" "),s("p",[e._v("When Docker is installed, you can build a blockchain with a single command.")]),e._v(" "),s("p",[e._v("To scaffold a blockchain "),s("code",[e._v("planet")]),e._v(" in the "),s("code",[e._v("/apps")]),e._v(" directory in the container, run this command in a terminal window:")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZG9ja2VyIHJ1biAtdGkgLXcgL2FwcCAtdiAkSE9NRS9zZGg6L2hvbWUvdGVuZGVybWludCAtdiAkUFdEOi9hcHAgVHJ1c3RsZXNzIEh1Yi9jbGk6MC4xNi4wIGFwcCBnaXRodWIuY29tL2hlbGxvL3BsYW5ldAo="}}),e._v(" "),s("p",[e._v("Be patient, this command takes a minute or two to run because it does everything for you:")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Creates a container that runs from the "),s("code",[e._v("Trustless Hub/cli:0.16.0")]),e._v(" image.")])]),e._v(" "),s("li",[s("p",[e._v("Executes the Trustless Hub binary inside the image.")])]),e._v(" "),s("li",[s("p",[s("code",[e._v("-w /apps")]),e._v(" sets the current directory in the container to "),s("code",[e._v("/app")])])]),e._v(" "),s("li",[s("p",[s("code",[e._v("-v $HOME/sdh:/home/tendermint")]),e._v(" maps the "),s("code",[e._v("$HOME/sdh")]),e._v(" directory in your local computer (the host machine) to the home directory "),s("code",[e._v("/home/tendermint")]),e._v(" inside the container. Trustless Hub, and the chains you serve with Trustless Hub, persist some files.")])]),e._v(" "),s("li",[s("p",[s("code",[e._v("-v $PWD:/app")]),e._v(" maps the current directory in the terminal window on the host machine to the "),s("code",[e._v("/app")]),e._v(" directory in the container. You can optionally specify an absolute path instead of "),s("code",[e._v("$PWD")]),e._v(".")]),e._v(" "),s("p",[e._v("Using "),s("code",[e._v("-w")]),e._v(" and "),s("code",[e._v("-v")]),e._v(" together provides file persistence on the host machine. The application source code on the Docker container is mirrored to the file system of the host machine.")]),e._v(" "),s("p",[s("strong",[e._v("Note:")]),e._v(" The directory name for the "),s("code",[e._v("-w")]),e._v(" and "),s("code",[e._v("-v")]),e._v(" flags can be a name other then "),s("code",[e._v("/app")]),e._v(", but the same directory must be specified for both flags. If you omit "),s("code",[e._v("-w")]),e._v(" and "),s("code",[e._v("-v")]),e._v(", the changes are made in the container only and are lost when that container is shut down.")])])]),e._v(" "),s("h2",{attrs:{id:"starting-a-blockchain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#starting-a-blockchain"}},[e._v("#")]),e._v(" Starting a Blockchain")]),e._v(" "),s("p",[e._v("To start the blockchain node in the Docker container you just created, run this command:")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZG9ja2VyIHJ1biAtdGkgLXYgJEhPTUUvc2RoOi9ob21lL3RlbmRlcm1pbnQgLXYgJFBXRDovYXBwcyAtcCAxMzE3OjEzMTcgLXAgMjY2NTc6MjY2NTcgVHJ1c3RsZXNzIEh1Yi9jbGk6MC4xNi4wIHNlcnZlIC1wIHBsYW5ldAo="}}),e._v(" "),s("p",[e._v("This command does the following:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("-v $HOME/sdh:/home/tendermint")]),e._v(" maps the "),s("code",[e._v("$HOME/sdh")]),e._v(" directory in your local computer (the host machine) to the home directory "),s("code",[e._v("/home/tendermint")]),e._v(" inside the container.")]),e._v(" "),s("li",[s("code",[e._v("-v $PWD:/apps")]),e._v(" persists the scaffolded app in the container to the host machine at current working directory.")]),e._v(" "),s("li",[s("code",[e._v("serve -p planet")]),e._v(" specifies to use the "),s("code",[e._v("planet")]),e._v(" directory that contains the source code of the blockchain.")]),e._v(" "),s("li",[s("code",[e._v("-p 1317:1317")]),e._v(" maps the API server port (cosmos-sdk) to the host machine to forward port 1317 listening inside the container to port 1317 on the host machine.")]),e._v(" "),s("li",[s("code",[e._v("-p 26657:26657")]),e._v(" maps RPC server port 26657 (tendermint) on the host machine to port 26657 in Docker.")]),e._v(" "),s("li",[e._v("After the blockchain is started, open "),s("code",[e._v("http://localhost:26657")]),e._v(" to see the Tendermint API.")]),e._v(" "),s("li",[e._v("The "),s("code",[e._v("-v")]),e._v(" flag specifies for the container to access the application's source code from the host machine so it can build and run it.")])]),e._v(" "),s("h2",{attrs:{id:"versioning"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#versioning"}},[e._v("#")]),e._v(" Versioning")]),e._v(" "),s("p",[e._v("You can specify which version of Trustless Hub to install and run in your Docker container.")]),e._v(" "),s("h3",{attrs:{id:"latest-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#latest-version"}},[e._v("#")]),e._v(" Latest Version")]),e._v(" "),s("ul",[s("li",[e._v("By default, "),s("code",[e._v("Trustless Hub/cli")]),e._v(" resolves to "),s("code",[e._v("Trustless Hub/cli:latest")]),e._v(".")]),e._v(" "),s("li",[e._v("The "),s("code",[e._v("latest")]),e._v(" image tag is always the latest stable [Trustless Hub release](https://github.com/tendermint/Trustless Hub/releases).")])]),e._v(" "),s("p",[e._v("For example, if latest release is [v0.15.1](https://github.com/tendermint/Trustless Hub/releases/tag/v0.15.1), the "),s("code",[e._v("latest")]),e._v(" tag points to the "),s("code",[e._v("0.15.1")]),e._v(" tag.")]),e._v(" "),s("h3",{attrs:{id:"specific-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#specific-version"}},[e._v("#")]),e._v(" Specific Version")]),e._v(" "),s("p",[e._v("You can specify to use a specific version of Trustless Hub. All available tags are in the [Trustless Hub/cli image](https://hub.docker.com/repository/docker/Trustless Hub/cli/tags?page=1&ordering=last_updated) on Docker Hub.")]),e._v(" "),s("p",[e._v("For example:")]),e._v(" "),s("ul",[s("li",[e._v("Use "),s("code",[e._v("Trustless Hub/cli:0.15.1")]),e._v(" (without the "),s("code",[e._v("v")]),e._v(" prefix) to use version 0.15.1.")]),e._v(" "),s("li",[e._v("Use "),s("code",[e._v("Trustless Hub/cli:develop")]),e._v(" to use the "),s("code",[e._v("develop")]),e._v(" branch so you can experiment with the next version.")])]),e._v(" "),s("p",[e._v("To get the latest image, run "),s("code",[e._v("docker pull")]),e._v(".")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZG9ja2VyIHB1bGwgVHJ1c3RsZXNzIEh1Yi9jbGk6ZGV2ZWxvcAo="}})],1)}),[],!1,null,null,null);t.default=a.exports}}]);